<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <div th:fragment="filter" th:remove="tag">
    <link type="text/css" th:href="@{/styles/filterSection.css}" rel="stylesheet" />
    <div class="filter-section">
      <h2 th:text="#{filter}"></h2>
      <form th:action="@{/products/filter}" method="get">
        <input style="display: none;" type="checkbox" th:name="categoryId" th:id="categoryId" value="">
        <input style="display: none;" type="checkbox" th:name="searchRequest" th:id="searchRequest" value="">
        <input style="display: none;" type="checkbox" th:name="collectionId" th:id="collectionId" value="">
        <div class="filter-category" id="filter-category">
          <div th:if="${filters != null}" th:remove="tag">
            <div th:each="filter : ${filters.filters}" th:remove="tag">
              <div class="section">
                <div class="section-header">
                  <span>&#x25BC;</span>
                  <h3 th:text="${filter.name}"></h3>
                </div>
                <div class="section-content">
                  <ul>
                    <div th:each="filterValue : ${filter.values}" th:remove="tag">
                      <li>
                        <input type="checkbox" th:name="${filter.name}" th:id="${filter.name +'_'+ filterValue.value}" th:value="${filterValue.value}" th:checked="${filterValue.checked ? true : false}">
                        <label th:for="${filter.name +'_'+ filterValue.value}" th:text="${filterValue.value}"></label>
                      </li>
                    </div>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
        <input style="display: none;" type="checkbox" th:name="sortBy" th:id="sortBy" value="">
        <input style="display: none;" type="checkbox" th:name="sortTo" th:id="sortTo" value="">
        <input style="display: none;" type="checkbox" th:name="page" th:id="page" value="">
        <script referrerpolicy="origin" defer th:src="@{/scripts/filterSection.js}"></script>
        <button id="filter-button" class="filter-button" th:text="#{button.filter}"></button>
      </form>
    </div>
  </div>
</html>